"use strict";(self.webpackChunke_commerce_website=self.webpackChunke_commerce_website||[]).push([[704],{7505:(e,t,s)=>{s.d(t,{A:()=>m,R:()=>u});var n=s(6136),c=s(5043),a=s(3003),i=s(6509),l=s(7034),r=s(2115),o=(s(2342),s(8169)),d=s(579);const u={hidden:{opacity:0,x:-100},visible:{opacity:1,x:0},exit:{scale:.95,x:-500,transition:{duration:.3,ease:"easeInOut"}}};const m=function(e){let{product:t,handleDecrease:s,handleIncrease:m,handleConfirmDelete:h,index:x}=e;const{updateCartLoadingIds:p}=(0,a.d4)((e=>e.cart)),{deleteCartLoadingIds:j}=(0,a.d4)((e=>e.cart)),b=(0,a.wA)(),w=(0,c.useMemo)((()=>p.includes(t._id)),[t._id,p]),f=(0,c.useMemo)((()=>j.includes(t._id)),[t._id,j]);return(0,d.jsxs)(o.P.tr,{variants:u,initial:"hidden",animate:"visible",exit:"exit",transition:{delay:.08*x,duration:.1},className:"w-100 border-bottom bg-white rounded-3 ",children:[(0,d.jsxs)("td",{colSpan:"5",className:"d-inline-flex align-items-center gap-2",children:[(0,d.jsx)("img",{className:"cart-image  object-fit-contain",src:t.imageCover,alt:"product-image"}),(0,d.jsxs)("div",{className:"cart-info",children:[(0,d.jsx)("p",{className:"m-0 text-success ",children:t.category.name}),(0,d.jsxs)("span",{className:"m-0 d-flex align-items-center gap-2",children:[t.ratingsAverage,(0,d.jsx)(n.A,{className:"w-5 h-5 fs-6 fill-current text-warning ",fill:"currentColor"})]})]})]}),(0,d.jsx)("td",{children:(0,d.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,d.jsx)("button",{onClick:()=>s(t._id,t.count),className:"btn btn-outline-secondary fw-bold btn-sm",children:"-"}),(0,d.jsx)("span",{children:t.count}),(0,d.jsx)("button",{onClick:()=>m(t._id,t.count),className:"btn btn-outline-secondary fw-bold btn-sm",children:"+"})]})}),(0,d.jsxs)("td",{children:["$",t.priceAfterDiscount?t.priceAfterDiscount:t.price]}),(0,d.jsx)("td",{children:(0,d.jsxs)("button",{className:"btn btn-success d-flex align-items-center",onClick:()=>(async e=>{try{const t=await b((0,i.vc)(e)).unwrap();(0,r.oR)(t.message||"Product updated successfully",{position:"top-center"})}catch(t){r.oR.error((null===t||void 0===t?void 0:t.message)||" Something went wrong",{position:"top-center"})}})({productId:t._id,count:t.count}),children:["Update ",w&&(0,d.jsx)(l.A,{color:"#69ca46",size:5})]})}),(0,d.jsx)("td",{children:(0,d.jsxs)("button",{className:"btn btn-danger",onClick:()=>{return e=t._id,void h((async()=>{try{const t=await b((0,i.DD)(e)).unwrap();(0,r.oR)((null===t||void 0===t?void 0:t.message)||"Product deleted successfully",{position:"top-center"})}catch(t){r.oR.error((null===t||void 0===t?void 0:t.message)||" Something went wrong",{position:"top-center"})}}));var e},children:["Delete ",f&&(0,d.jsx)(l.A,{color:"#69ca46",size:5})]})})]},t._id)}},9910:(e,t,s)=>{s.r(t),s.d(t,{default:()=>x});s(5043);var n=s(3003),c=s(7638),a=s(492),i=s(7505),l=s(2115),r=s(6509),o=s(64),d=s.n(o),u=s(1675),m=s(3546),h=s(579);const x=function(){const e=(0,u.Zp)(),t=(0,n.d4)((e=>{var t;return(null===(t=e.cart.cartInfo)||void 0===t?void 0:t.numOfCartItems)||0})),s=(0,n.d4)((e=>{var t,s;return(null===(t=e.cart.cartInfo)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.totalCartPrice)||0})),o=(0,n.d4)(c.Dt.selectAll),x=(0,n.d4)(a.Rt.selectAll),p=(0,n.wA)(),j=x.map((e=>{const t=o.find((t=>(null===t||void 0===t?void 0:t._id)===e.product));return{...e,...t}})),b=(e,t)=>{p((0,a.OX)({productId:e,newCount:t+1}))},w=(e,t)=>{t>1&&p((0,a.OX)({productId:e,newCount:t-1}))},f=async e=>{(await d().fire({title:"Confirm Deletion",text:"Are you sure you want to delete?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed&&e()};return(0,h.jsxs)("section",{className:"cart py-5 px-3  mt-all",children:[(0,h.jsx)(l.N9,{}),(0,h.jsx)("div",{className:"container",children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-12 col-lg-8 mt-4",children:[(0,h.jsx)("div",{className:"row  rounded-2 shadow-sm p-2",children:(0,h.jsxs)("div",{className:"col-12 d-flex text-md-start justify-content-between align-items-center gap-3 flex-wrap",children:[(0,h.jsxs)("h3",{children:["Cart"," ",(0,h.jsx)("span",{className:"text-secondary fs-5",children:t>0?`(${t} Items in cart)`:"Your Cart is Empty"})]}),(0,h.jsx)("button",{className:"btn btn-danger   fw-bold fs-6",onClick:()=>{f((async()=>{try{await p((0,r.uA)()).unwrap();(0,l.oR)("All products have been deleted",{position:"top-center"})}catch(e){l.oR.error((null===e||void 0===e?void 0:e.message)||" Something went wrong",{position:"top-center"})}}))},children:"x clear cart"})]})}),(0,h.jsx)("div",{className:"row mt-3 rounded-2   table-responsive",children:j.length>0?(0,h.jsxs)("table",{className:"table",children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{className:"fw-bold p-2",children:"Product"}),(0,h.jsx)("th",{className:"fw-bold p-2",children:"count"}),(0,h.jsx)("th",{className:"fw-bold p-2",children:"price"}),(0,h.jsx)("th",{className:"fw-bold p-2",children:"Update"}),(0,h.jsx)("th",{className:"fw-bold p-2",children:"Delete"})]})}),(0,h.jsx)("tbody",{children:(0,h.jsx)(m.N,{children:j&&j.map(((e,t)=>(0,h.jsx)(i.A,{product:e,handleIncrease:b,handleDecrease:w,handleConfirmDelete:f,index:t},e._id)))})})]}):(0,h.jsx)("p",{className:"fs-1 fw-medium text-bg-light p-4 text-center",children:"Your Cart Is Empty"})})]}),(0,h.jsx)("div",{className:"col-12 col-lg-4 mt-4",children:(0,h.jsxs)("div",{className:"summary p-3 rounded-2  shadow",children:[(0,h.jsxs)("h4",{children:["Total Price: $",s]}),(0,h.jsx)("button",{disabled:0===t,className:"btn btn-dark mt-3 w-100 fw-bold",onClick:()=>e("/checkout"),children:"Continue to checkout"})]})})]})})]})}}}]);
//# sourceMappingURL=704.11ff8ebc.chunk.js.map
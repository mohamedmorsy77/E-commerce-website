{"version":3,"file":"static/js/937.528b27e6.chunk.js","mappings":"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","sources":["Components/wishlist/WishlistCard.jsx","Components/wishlist/Wishlist.jsx"],"sourcesContent":["import React, {  useMemo } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { deleteProductFromWishlist } from \"../../network/Wishlist\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { PulseLoader } from \"react-spinners\";\r\nimport { addProductsToCart } from \"../../network/CartApi\";\r\nfunction WishlistCard({ product }) {\r\n  const { wishlistLoadingIds } = useSelector((state) => state.wishlist);\r\n  const { addProductToCartloadingIds } = useSelector((state) => state.cart);\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const isLoading = useMemo(\r\n    () => wishlistLoadingIds.includes(product._id),\r\n    [product._id, wishlistLoadingIds]\r\n  );\r\n  const productLoading = useMemo(\r\n    () => addProductToCartloadingIds.includes(product._id),\r\n    [product._id, addProductToCartloadingIds]\r\n  );\r\n  const handleAction = async (actionMethod, successMessage) => {\r\n    try {\r\n      const action = await dispatch(actionMethod(product._id)).unwrap();\r\n      toast.success(action?.message || successMessage, {\r\n        position: \"top-center\",\r\n      });\r\n    } catch (err) {\r\n      navigate(\"/login\");\r\n      setTimeout(() => {\r\n        toast.error(\r\n          err || \"You are not logged in. Please login to get access\",\r\n          {\r\n            position: \"top-center\",\r\n          }\r\n        );\r\n      }, 500);\r\n    }\r\n  };\r\n  const handleDelete = async () =>\r\n    handleAction(\r\n      deleteProductFromWishlist,\r\n      \"Product removed successfully to your wishlist\"\r\n    );\r\n\r\n  const addProductToCard = () =>\r\n    handleAction(addProductsToCart , \"Added to cart successfully!\");\r\n\r\n  return (\r\n    <tr className=\"transition\">\r\n      <td className=\"d-inline-flex align-items-center gap-3 py-2 overflow-hidden\">\r\n        <img src={product.imageCover} alt=\"flflf\" />\r\n        <div className=\"product-info overflow-hidden \">\r\n          <h4 className=\"text-success\">{product.category.name}</h4>\r\n          <p className=\"m-0 mt-2 text-truncate\" title={product.title}>{product.title}</p>\r\n        </div>\r\n      </td>\r\n      <td className=\"text-center\">\r\n        <span className=\"fw-medium\">${product.price}</span>\r\n      </td>\r\n      <td className=\"d-flex align-items-center gap-2   gap-xl-5\">\r\n        <span\r\n          className={`fw-bold ${\r\n            product.quantity >= 1 ? \"text-success\" : \"text-danger\"\r\n          }`}\r\n        >\r\n          {product.quantity >= 1 ? \"In Stock\" : \"Out Of Stock\"}\r\n        </span>\r\n        <div className=\"d-flex gap-2\">\r\n          <button\r\n            aria-label=\"Add Product to Cart\"\r\n            className=\"btn btn-dark\"\r\n            onClick={addProductToCard}\r\n          >\r\n            {productLoading ? (\r\n              <PulseLoader color=\"#69ca46\" size={4} />\r\n            ) : (\r\n              <span>\r\n                <i class=\"ri-shopping-cart-2-line\"></i>\r\n              </span>\r\n            )}\r\n          </button>\r\n          <button\r\n            aria-label=\"Remove Product From Wishlist\"\r\n            className=\"btn btn-danger\"\r\n            onClick={handleDelete}\r\n          >\r\n            {isLoading ? (\r\n              <PulseLoader color=\"#69ca46\" size={4} />\r\n            ) : (\r\n              <i class=\"ri-delete-bin-6-line\"></i>\r\n            )}\r\n          </button>\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default WishlistCard;\r\n","import React, { useMemo } from \"react\";\r\nimport \"./Wishlist.css\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { productsSelectors } from \"../../reducers/ProductsSlice\";\r\nimport { wishListSelectors } from \"../../reducers/WishlistSlice\";\r\nimport WishlistCard from \"./WishlistCard\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nfunction Wishlist() {\r\n  const allProducts = useSelector(productsSelectors.selectAll);\r\n  const wishListIds = useSelector(wishListSelectors.selectAll);\r\n\r\n  const wishlistSet = useMemo(() => new Set(wishListIds), [wishListIds]);\r\n\r\n  //Get the products that are in the wishlist.\r\n  const productsInWishlist = useMemo(\r\n    () =>\r\n      allProducts.filter((product) => {\r\n        return wishlistSet.has(product?._id);\r\n      }),\r\n    [wishlistSet, allProducts]\r\n  );\r\n\r\n  return (\r\n    <section className=\"wishlist mt-all p-5\">\r\n      <ToastContainer />\r\n      <div className=\"container\">\r\n        <div className=\"row text-center\">\r\n          <div className=\"col-12 overflow-hidden\">\r\n            <i className=\"ri-heart-fill text-success fs-1\"></i>\r\n            <h1>My Wishlist</h1>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row mt-5 align-items-start\">\r\n          <div className=\"col-12 table-responsive\">\r\n            {productsInWishlist.length >= 1 ? (\r\n              <table className=\"table transition\">\r\n                <thead className=\"\">\r\n                  <th className=\"p-3  text-success \">\r\n                    Product Info\r\n                  </th>\r\n                  <th className=\"p-3 text-center text-success  \">\r\n                    Unit price\r\n                  </th>\r\n                  <th className=\"p-3  text-success\">\r\n                    stock status\r\n                  </th>\r\n                </thead>\r\n                <tbody>\r\n                  {productsInWishlist.map((product) => (\r\n                    <WishlistCard key={product._id} product={product} />\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            ) : (\r\n              <p className=\"fs-1 fw-medium text-bg-light p-4 text-center\">\r\n                Your Wish List is empty <i class=\"ri-empathize-fill\"></i>\r\n              </p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Wishlist;\r\n"],"names":["_ref","product","wishlistLoadingIds","useSelector","state","wishlist","addProductToCartloadingIds","cart","dispatch","useDispatch","navigate","useNavigate","isLoading","useMemo","includes","_id","productLoading","handleAction","async","actionMethod","successMessage","action","unwrap","toast","success","message","position","err","setTimeout","error","_jsxs","className","children","_jsx","src","imageCover","alt","category","name","title","price","quantity","onClick","addProductToCard","addProductsToCart","PulseLoader","color","size","class","deleteProductFromWishlist","allProducts","productsSelectors","selectAll","wishListIds","wishListSelectors","wishlistSet","Set","productsInWishlist","filter","has","ToastContainer","length","map","WishlistCard"],"sourceRoot":""}